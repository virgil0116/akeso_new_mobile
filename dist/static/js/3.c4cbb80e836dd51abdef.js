webpackJsonp([3],{"+vrq":function(t,e){},"/DMy":function(t,e){},HHx2:function(t,e,i){"use strict";t.exports=function(t){if(!Array.isArray(t))throw new TypeError("Expected Array, got "+typeof t);for(var e,i,a=t.length,n=t.slice();a;)e=Math.floor(Math.random()*a--),i=n[a],n[a]=n[e],n[e]=i;return n}},"Mj3+":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAnCAYAAAAYRfjHAAAAAXNSR0IArs4c6QAAA/xJREFUWAmtWM9rE0EUbtK0VqrJwUqE6B/gQZDqwYIgPbRKacFT0BKTJm0P/kBEBcEKFkFBtCJ6kjaIbUTsoUKhSRGlB6UHoSDiTzRWpakUqpi0mGKbxO8tu9vZ3ZndZdmBZea997337Zt5MzuJp8qipVIp/8rKysFKpdLu8Xh2AR7E0wC5gH4Buq/oJ/FM9PT0fEdvq3lEqNHR0UChULgAgjPAbBThWD1eYgzPxe7u7k+snjfmEg8ODrYhwDBIt/CcLHRr8L0G8n70FRHWQJxMJs+Wy+UbcPCKnOzoQToWDAaPdXR0/OXhNcQy6QAP6EQH8km/398eDodLen81K5peOVM9xrGMpTqUz+dv8gJIGcuFlHW4pry4Gl11dXVLIpF4xiqljOXqdVJIbCzhuFQqXUdSmmX1UrZQ0pax21YB/Ij1W7LrAFwj6qedxXuRbSsUdvbpInBHAoHApt7e3p3YLgHIe/HM4LHTDrMgH7LVvAlrZMaLtbW1u2OxWE7RyXt0Zmpqal82m00jTotiE/RtNN2yX5UXAzoGrdoplpQFNzc3r9XV1SWgW2b1+jFIt42MjGxV9FRcdPaatVVM7xMzQCQSmUMC02YYsqHIVC4ibrBwyOIA+GeBqUJG760wOCdULiKmohE2ZBKitREC1g3b14f8EYh/KRYvgv5QBF4P++ahoaFGnk3RpdPpDRg3KbKo9/l8KhdlPCsCMvp7qF4fI2uG8/PzV6AIaZRGIR+Px/8oai/ac0Uw6fdgy0zgUqCZTsoUs0Gn0nkTX8mEJdMcmT4oxmEp46HshQ3BW4vF4gcQUfW+g7wjl8vR9FplKsWUedT4UtEg2AsE2q9qXR6AtFRTUxPEWbBeXDLHI5e5NOGQVIYlJaM0vfhYD2Oc16BdFJDxbX04iRgHxDKMSb3RDRlx3+D2aShgtaDwsb5La+EGmS7GLZ0siSox9tg3aO7zQE51SOQtljHF81eJyYjK60dXpLEbDcTneBc9iq0hpk8fwHdcIs3gsvBUFEtDTCAQX0U3J3Kwqae79GkzrIEYb7mEQjtu5mRlwzHch0r+YoYTfu5wz34Mx7CZM8+GGXuJlz+Ano5hYTNkrCDr6+tPYvxTkW32RcxWwoqUYgmJOzs7FxEkiiDCH176l8EUX8K2/KzX82QhMYHl2/8Az5GjmwbecDRycJLKlJgQOAD6kPUrUQDSw76EM4Bmx3Rd2RiWxPJFL4ygv1lHdoyvz4murq4sq7MaWxJTAPqLAcQRPIb1hu4Bfllwj0UzclvEFABbJIPMLuuCvcZSONrzwn2sI5BEEHtwW3kI4SgyXcDPmqZoNDrLw1rpbGdMgWiqQ6FQHP04XqLVKSnF+g8Hf1DX1DofhAAAAABJRU5ErkJggg=="},SQ2J:function(t,e,i){"use strict";e.b=function(t){return Object(a.a)({url:"/api/open/merchants",method:"GET",params:t})},e.a=function(t){return Object(a.a)({url:"/api/open/appoints",method:"POST",data:t})},e.c=function(t){return Object(a.a)({url:"/api/v5/codes/send_appointment_code",method:"GET",params:t})};var a=i("vLgD")},dpWl:function(t,e){},etVR:function(t,e,i){"use strict";var a=i("fZjL"),n=i.n(a),s=i("mvHQ"),r=i.n(s),o=i("f6Hi"),l=(String,{name:"tip",props:{align:{type:String,default:"left"}}}),u={render:function(){var t=this.$createElement;return(this._self._c||t)("div",{staticClass:"vux-group-tip",style:{"text-align":this.align}},[this._t("default")],2)},staticRenderFns:[]};var c=i("VU/8")(l,u,!1,function(t){i("dpWl")},null,null).exports,h=i("oWtu"),m=i("kbG3"),d=i("q5lo"),p=i("HHx2"),v=i.n(p);h.a,m.a,d.e,d.b,o.a,String,Boolean,String,Boolean,Array,Array,Number,Number,Boolean,Boolean,Boolean,String,Boolean,d.e,d.b,d.a;var f={name:"checklist",components:{Tip:c,Icon:h.a,InlineDesc:m.a},filters:{getValue:d.e,getKey:d.b},mixins:[o.a],props:{name:String,showError:Boolean,title:String,required:{type:Boolean,default:!1},options:{type:Array,required:!0},value:{type:Array,default:function(){return[]}},max:Number,min:Number,fillMode:Boolean,randomOrder:Boolean,checkDisabled:{type:Boolean,default:!0},labelPosition:{type:String,default:"right"},disabled:Boolean},data:function(){return{currentValue:[],currentOptions:this.options,tempValue:""}},beforeUpdate:function(){if(this.isRadio){var t=this.currentValue.length;t>1&&(this.currentValue=[this.currentValue[t-1]]);var e=g(this.currentValue);this.tempValue=e.length?e[0]:""}},created:function(){this.handleChangeEvent=!0,this.value&&(this.currentValue=this.value,this.isRadio&&(this.tempValue=this.isRadio?this.value[0]:this.value)),this.randomOrder?this.currentOptions=v()(this.options):this.currentOptions=this.options},methods:{getValue:d.e,getKey:d.b,getInlineDesc:d.a,getFullValue:function(){var t=Object(d.d)(this.options,this.value);return this.currentValue.map(function(e,i){return{value:e,label:t[i]}})},isDisabled:function(t){return!!this.checkDisabled&&(this._max>1&&(-1===this.currentValue.indexOf(t)&&this.currentValue.length===this._max))}},computed:{isRadio:function(){return void 0!==this.max&&1===this.max},_total:function(){return this.fillMode?this.options.length+1:this.options.length},_min:function(){if(!this.required&&!this.min)return 0;if(!this.required&&this.min)return Math.min(this._total,this.min);if(this.required){if(this.min){var t=Math.max(1,this.min);return Math.min(this._total,t)}return 1}},_max:function(){return(this.required||this.max)&&this.max?this.max>this._total?this._total:this.max:this._total},valid:function(){return this.currentValue.length>=this._min&&this.currentValue.length<=this._max}},watch:{tempValue:function(t){var e=t?[t]:[];this.$emit("input",e),this.$emit("on-change",e,Object(d.d)(this.options,e))},value:function(t){r()(t)!==r()(this.currentValue)&&(this.currentValue=t)},options:function(t){this.currentOptions=t},currentValue:function(t){var e=g(t);if(!this.isRadio){this.$emit("input",e),this.$emit("on-change",e,Object(d.d)(this.options,e));var i={};this._min&&(this.required?this.currentValue.length<this._min&&(i={min:this._min}):this.currentValue.length&&this.currentValue.length<this._min&&(i={min:this._min})),!this.valid&&this.dirty&&n()(i).length?this.$emit("on-error",i):this.$emit("on-clear-error")}}}};function g(t){return JSON.parse(r()(t))}var _={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{class:t.disabled?"vux-checklist-disabled":""},[i("div",{directives:[{name:"show",rawName:"v-show",value:t.title,expression:"title"}],staticClass:"weui-cells__title"},[t._v(t._s(t.title))]),t._v(" "),t._t("after-title"),t._v(" "),i("div",{staticClass:"weui-cells weui-cells_checkbox"},t._l(t.currentOptions,function(e,a){return i("label",{staticClass:"weui-cell weui-check_label",class:{"vux-checklist-label-left":"left"===t.labelPosition},attrs:{for:"checkbox_"+t.uuid+"_"+a}},[i("div",{staticClass:"weui-cell__hd"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.currentValue,expression:"currentValue"}],staticClass:"weui-check",attrs:{type:"checkbox",name:"vux-checkbox-"+t.uuid,id:t.disabled?"":"checkbox_"+t.uuid+"_"+a,disabled:t.isDisabled(t.getKey(e))},domProps:{value:t.getKey(e),checked:Array.isArray(t.currentValue)?t._i(t.currentValue,t.getKey(e))>-1:t.currentValue},on:{change:function(i){var a=t.currentValue,n=i.target,s=!!n.checked;if(Array.isArray(a)){var r=t.getKey(e),o=t._i(a,r);n.checked?o<0&&(t.currentValue=a.concat([r])):o>-1&&(t.currentValue=a.slice(0,o).concat(a.slice(o+1)))}else t.currentValue=s}}}),t._v(" "),i("i",{staticClass:"weui-icon-checked vux-checklist-icon-checked"})]),t._v(" "),i("div",{staticClass:"weui-cell__bd"},[i("p",{domProps:{innerHTML:t._s(t.getValue(e))}}),t._v(" "),t.getInlineDesc(e)?i("inline-desc",[t._v(t._s(t.getInlineDesc(e)))]):t._e()],1)])}),0),t._v(" "),t._t("footer")],2)},staticRenderFns:[]};var b=i("VU/8")(f,_,!1,function(t){i("+vrq")},null,null);e.a=b.exports},fZ43:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=i("mvHQ"),n=i.n(a),s=i("UNGY"),r=i("etVR"),o=i("Mj3+"),l=i.n(o),u=i("W7dX"),c=i.n(u),h=i("SQ2J"),m=(s.a,r.a,{name:"MakeAppointment",components:{Datetime:s.a,Checklist:r.a},data:function(){return{locationIcon:l.a,avatar:c.a,phoneNum:"",verifyNum:"",btnContent:"获取验证码",time:0,disabled:!1,toastShow:!1,ageNum:"",childName:"",gender:"",datetime:"",toastText:"",dayTime:"2019-07-01",formatValueFunction:function(t){return t.replace(/-/g,"$")},commonList:[{key:"male",value:"男"},{key:"female",value:"女"}],radioValue:"",age:Array.apply(null,Array(40)).map(function(t,e){return e}),radioData:[{value:"男",name:"male"},{value:"女",name:"female"}],appointmentData:{}}},watch:{},created:function(){},mounted:function(){this.appointmentData=JSON.parse(this.$route.query.data),console.log(this.appointmentData)},methods:{blur:function(t){},getRadioVal:function(t){console.log(t)},change:function(t){console.log("change",t),this.datetime=t},changeCheckList:function(t){this.gender=t[0]},handleClicksubmit:function(){var t=this;/^((13|14|15|17|18)[0-9]{1}\d{8})$/.test(this.phoneNum)?""!==this.verifyNum?""!==this.childName?void 0!==this.gender&&""!==this.gender?""!==this.ageNum?""!==this.datetime?Object(h.a)({phone:this.phoneNum,code:this.verifyNum,merchant_id:this.appointmentData.merchant_id,child_name:this.childName,gender:this.gender,age:this.ageNum,date:this.datetime}).then(function(e){var i=e.data.appoint;t.$router.push({name:"successful_reservation",query:{data:n()(i)}})},function(e){t.toast(e)}):this.toast("请选择预约时间"):this.toast("请选择年龄"):this.toast("请选择性别"):this.toast("请输入姓名"):this.toast("请输入验证码"):this.toast("手机号不合法")},sendSmsCode:function(){var t=this;this.phoneNum?(console.log(this.phoneNum),/^((13|14|15|17|18)[0-9]{1}\d{8})$/.test(this.phoneNum)?Object(h.c)({phone:this.phoneNum}).then(function(e){t.time=60,t.timer()},function(e){t.toast(e)}):this.toast("手机号不合法")):this.toast("请输入手机号码")},timer:function(){if(this.time>0){this.time--,this.btnContent=this.time+"s后重新获取",this.disabled=!0;var t=setTimeout(this.timer,1e3)}else 0===this.time&&(this.btnContent="获取验证码",clearTimeout(t),this.disabled=!1)},toast:function(t){var e=this;e.toastText=t,e.toastShow=!0,setTimeout(function(){e.toastShow=!1},1500)}}}),d={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"appointment-content"},[i("div",{staticClass:"header"},[i("div",[i("img",{staticClass:"avatar",attrs:{src:t.avatar}})]),t._v(" "),i("p",{staticClass:"hospital-name"},[t._v(t._s(t.appointmentData.name))]),t._v(" "),i("div",{staticClass:"subtitle"},[i("span",[t._v(t._s(t.appointmentData.cate_name))]),t._v(" "),i("span",[t._v("预约量")]),t._v(" "),i("span",[t._v(t._s(t.appointmentData.appoints_count))])]),t._v(" "),i("div",{staticClass:"hospital-address"},[i("img",{staticClass:"icon",attrs:{src:t.locationIcon}}),t._v(" "),i("span",[t._v(t._s(t.appointmentData.address?t.appointmentData.address:"暂无"))])])]),t._v(" "),i("div",{staticClass:"user"},[i("div",{staticClass:"user-list"},[i("span",{staticClass:"left-tit"},[t._v("手机号码:")]),t._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:t.phoneNum,expression:"phoneNum"}],ref:"input",staticClass:"input-span c-bule",attrs:{type:"number",maxlength:"11"},domProps:{value:t.phoneNum},on:{blur:function(e){return t.blur("input")},input:function(e){e.target.composing||(t.phoneNum=e.target.value)}}}),t._v(" "),i("span",{staticClass:"code"},[i("input",t._b({directives:[{name:"model",rawName:"v-model",value:t.btnContent,expression:"btnContent"}],staticClass:"verify",attrs:{type:"button"},domProps:{value:t.btnContent},on:{click:t.sendSmsCode,input:function(e){e.target.composing||(t.btnContent=e.target.value)}}},"input",{disabled:t.disabled},!1))])]),t._v(" "),i("div",{staticClass:"user-list"},[i("span",{staticClass:"left-tit"},[t._v("验 证 码:")]),t._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:t.verifyNum,expression:"verifyNum"}],ref:"input1",staticClass:"input-span c-bule",attrs:{maxlength:"6",onkeyup:"this.value=this.value.replace(/[^\\d]/g,'')",type:"text",placeholder:"请输入验证码"},domProps:{value:t.verifyNum},on:{blur:function(e){return t.blur("input1")},input:function(e){e.target.composing||(t.verifyNum=e.target.value)}}})]),t._v(" "),i("div",{staticClass:"user-list"},[i("span",{staticClass:"left-tit"},[t._v("孩子姓名:")]),t._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:t.childName,expression:"childName"}],ref:"input2",staticClass:"input-span c-bule",attrs:{value:""},domProps:{value:t.childName},on:{blur:function(e){return t.blur("input2")},input:function(e){e.target.composing||(t.childName=e.target.value)}}})]),t._v(" "),i("div",{staticClass:"user-list"},[i("span",{staticClass:"left-tit"},[t._v("您孩子的性别：")]),t._v(" "),i("div",{staticClass:"child-list"},[i("checklist",{attrs:{options:t.commonList,max:1},on:{"on-change":t.changeCheckList}})],1)]),t._v(" "),i("div",{staticClass:"user-list"},[i("span",{staticClass:"left-tit"},[t._v("您孩子的年龄：")]),t._v(" "),i("select",{directives:[{name:"model",rawName:"v-model",value:t.ageNum,expression:"ageNum"}],staticClass:"age",on:{change:function(e){var i=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.ageNum=e.target.multiple?i:i[0]}}},t._l(t.age,function(e,a){return i("option",{key:a,domProps:{value:e}},[t._v(t._s(e))])}),0),t._v(" "),i("span",{staticClass:"left-tit"},[t._v("岁")])]),t._v(" "),i("div",{staticClass:"user-list"},[i("span",{staticClass:"left-tit"},[t._v("您要预约的日期：")]),t._v(" "),i("datetime",{staticClass:"datetime",attrs:{"hour-list":["09","10","11","12","13","14","15","16","17","18"],title:"",format:"YYYY-MM-DD HH:mm"},on:{"on-change":t.change}})],1),t._v(" "),i("div",{staticClass:"btn-box"},[i("button",{staticClass:"btn",on:{click:t.handleClicksubmit}},[t._v("确认预约")])])]),t._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:t.toastShow,expression:"toastShow"}],staticClass:"toast"},[t._v("\n    "+t._s(t.toastText)+"\n  ")])])},staticRenderFns:[]};var p=i("VU/8")(m,d,!1,function(t){i("/DMy")},"data-v-38d6b986",null);e.default=p.exports}});
//# sourceMappingURL=3.c4cbb80e836dd51abdef.js.map